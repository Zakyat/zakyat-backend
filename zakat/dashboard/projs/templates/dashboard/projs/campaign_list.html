{% extends "dashboard/base.html" %}
{% load static %}
{% block title %}Campaigns{% endblock %}

{% block content %}


    <h3>Count: {{ count }}</h3>


    <div class="main-content-container container-fluid px-4">

        <!-- End Page Header -->
        <div class="row">
            <div class="col-lg-12 col-md-12">
                <!-- Add New Post Form -->
                <div class="card card-small mb-2">
                    <div class="card-body">
                        <form class="add-new-post">
                            {#                            TODO add count title #}
                            <input class="form-control form-control-lg mb-3"
                                   type="text" name="search" id="id_search"
                                   placeholder="Search"
                                   value="{{ filter.form.data.search }}">

                            <select class="form-control form-control-lg mb-3" name="status" id="id_status">
                                {% with selected_value=filter.form.data.status %}
                                    {% for choice in filter.form.fields.status.choices %}
                                        <option value="{{ choice.0 }}"
                                                {% if selected_value == choice.0 %}selected{% endif %}
                                        >{{ choice.1 }}</option>
                                    {% endfor %}
                                {% endwith %}
                            </select>


                            {#                            TODO add from right side select field #}
                            <button type="submit" class="form-control form-control-lg btn btn-outline-accent">
                                <i class="material-icons">search</i>Search Campaigns
                            </button>
                        </form>


                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            {% if campaigns %}

                <div class="main-content-container container-fluid px-4">
                    <!-- Page Header -->
                    <div class="page-header row no-gutters py-4">
                        <div class="col-12 col-sm-4 text-center text-sm-left mb-0">
                            <span class="text-uppercase page-subtitle">Overview</span>
                            <h3 class="page-title">Data Tables</h3>
                        </div>
                    </div>
                    <!-- End Page Header -->
                    <!-- Default Light Table -->
                    <div class="row">
                        <div class="col">
                            <div class="card card-small mb-4">
                                <div class="card-header border-bottom">
                                    <h6 class="m-0">Campaigns</h6>
                                </div>
                                <div class="card-body p-0 pb-3 text-center">
                                    <table class="table mb-0">
                                        <thead class="bg-light">
                                        <tr>
                                            <th scope="col" class="border-0">#</th>
                                            <th scope="col" class="border-0">Title</th>
                                            <th scope="col" class="border-0">Status</th>
                                        </tr>
                                        </thead>
                                        <tbody>
{#                                        TODO make row clickable #}
                                        {% for campaign in campaigns %}
                                            <tr>
                                                <td>{{ forloop.counter }}</td>
                                                <td>{{ campaign.title }}</td>
                                                <td>{{ campaign.get_status }}</td>
                                            </tr>

                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            {% else %}
                <h6>Sry</h6>
            {% endif %}


        </div>
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

{% endblock javascripts %}